<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>AlgoPlay ‚Äî Dashboard (Desktop)</title>
<style>
    /* Chatbot floating ‚Äî TRULY FIXED POSITION, BOTTOM LEFT */
.chatbot-wrapper{
  /* --- CHANGED --- */
  position:fixed;
  left:28px; /* Changed from 'right' to 'left' */
  right:unset; /* Ensure 'right' is not set */
  bottom:5px;
  z-index:9999;
  width:235px;
}

.chatbot{
  /* --- CHANGED --- */
  margin-left:0; /* Removed unnecessary margin-left */
  background:linear-gradient(90deg,var(--primary),var(--primary-2));color:#fff;padding:14px 18px;border-radius:40px;display:flex;align-items:center;gap:12px;font-weight:900;box-shadow:0 20px 48px rgba(0,0,0,0.38);cursor:pointer;
  transition:all 0.3s ease;animation:float 3s ease-in-out infinite;
}

/* ... (rest of the CSS remains the same) ... */

/* Responsive adjustment for small screens */
@media (max-width:720px){
  /* ... (rest of the media query remains the same) ... */
  .chatbot-wrapper{
    left:16px; /* Adjusted for smaller screens */
    right:unset;
    bottom:16px;
  }
}
  :root{
    --bg1:#0f2b56; --bg2:#0277bd;
    --card-bg: rgba(255,255,255,0.04);
    --accent:#bfff00; --muted:#dfefff;
    --primary:#1976D2; --primary-2:#42A5F5;
  }
  *{box-sizing:border-box}
  html,body{height:100%;margin:0;font-family:"Segoe UI", Roboto, Arial;color:#fff;background:linear-gradient(180deg,var(--bg1),var(--bg2));animation:bgShift 8s ease infinite;position:relative}

  @keyframes bgShift{
    0%,100%{background:linear-gradient(180deg,var(--bg1),var(--bg2))}
    50%{background:linear-gradient(180deg,#1a3f7a,#0d5ec7)}
  }

  /* Desktop container: much wider left column */
  .wrap{max-width:1400px;margin:28px auto;padding:28px;display:grid;grid-template-columns:480px 1fr;gap:36px;align-items:start;animation:fadeIn 0.6s ease}

  @keyframes fadeIn{
    from{opacity:0;transform:translateY(12px)}
    to{opacity:1;transform:translateY(0)}
  }

  /* Left - profile column (MUCH BIGGER) */
  .panel{
    background:var(--card-bg);border-radius:18px;padding:28px;border:1px solid rgba(255,255,255,0.08);
    box-shadow:0 16px 40px rgba(0,0,0,0.36);animation:slideInLeft 0.8s ease;
  }

  @keyframes slideInLeft{
    from{opacity:0;transform:translateX(-20px)}
    to{opacity:1;transform:translateX(0)}
  }

  .profile{display:flex;align-items:center;gap:18px;margin-bottom:22px;cursor:pointer;transition:all 0.3s ease}
  .profile:hover{transform:translateX(6px)}
  .avatar{width:120px;height:120px;border-radius:18px;background:linear-gradient(135deg,#ff7043,#ff5722);display:flex;align-items:center;justify-content:center;flex-shrink:0;box-shadow:0 12px 28px rgba(255,112,67,0.28);animation:pulse 3s ease-in-out infinite}
  .avatar svg{width:68px;height:68px}

  @keyframes pulse{
    0%,100%{transform:scale(1)}
    50%{transform:scale(1.04)}
  }

  .welcome h3{margin:0;font-size:1.4rem;color:var(--accent)} 
  .welcome p{margin:8px 0 0;color:var(--muted);font-weight:800;font-size:1.1rem}

  /* Stats larger and more prominent */
  .stats{display:grid;grid-template-columns:1fr 1fr;gap:16px;margin-top:24px}
  .stat-box{
    background:linear-gradient(135deg,#cfeff0,#b3e5fc);color:#062525;padding:18px;border-radius:14px;text-align:center;font-weight:900;font-size:1.15rem;box-shadow:0 10px 24px rgba(0,0,0,0.12);
    transition:all 0.3s ease;animation:bounceIn 0.8s ease;
  }

  .stat-box:nth-child(1){animation-delay:0.1s}
  .stat-box:nth-child(2){animation-delay:0.2s}
  .stat-box:nth-child(3){animation-delay:0.3s}
  .stat-box:nth-child(4){animation-delay:0.4s}

  @keyframes bounceIn{
    0%{opacity:0;transform:translateY(10px)}
    60%{transform:translateY(-2px)}
    100%{opacity:1;transform:translateY(0)}
  }

  .stat-box:hover{transform:translateY(-3px);box-shadow:0 16px 36px rgba(0,0,0,0.18)}

  /* Right - main content */
  .main{display:flex;flex-direction:column;gap:24px;animation:slideInRight 0.8s ease}

  @keyframes slideInRight{
    from{opacity:0;transform:translateX(20px)}
    to{opacity:1;transform:translateX(0)}
  }

  .header{display:flex;justify-content:space-between;align-items:center}
  .header h2{margin:0;font-size:1.5rem;color:var(--accent)} 
  .header .muted{color:var(--muted);font-weight:800}

  /* SUBJECTS: vertical list with much larger cards and clear CTA */
  .subjects{display:flex;flex-direction:column;gap:24px}
  .subject{
    background:linear-gradient(180deg,#ffffff,#f7fbff);color:#122230;border-radius:18px;padding:26px;box-shadow:0 14px 40px rgba(2,6,23,0.08);
    display:flex;align-items:center;justify-content:space-between;gap:24px;
    min-height:130px;transition:all 0.3s ease;animation:slideUp 0.8s ease;
  }

  .subject:nth-child(1){animation-delay:0.2s}
  .subject:nth-child(2){animation-delay:0.35s}
  .subject:nth-child(3){animation-delay:0.5s}

  @keyframes slideUp{
    from{opacity:0;transform:translateY(24px)}
    to{opacity:1;transform:translateY(0)}
  }

  .subject:hover{transform:translateY(-8px);box-shadow:0 18px 50px rgba(2,6,23,0.12)}
  
  .subject-info{flex:1;min-width:0}
  .subject h4{margin:0;font-size:1.35rem}
  .subject small{display:block;margin-top:8px;color:#4b6176;font-weight:800}
  
  .subject-action{width:280px;flex-shrink:0}
  .subject-action button{
    width:100%;padding:18px;border-radius:16px;border:0;font-weight:900;cursor:pointer;font-size:1.1rem;
    box-shadow:0 12px 28px rgba(2,6,23,0.14);transition:all 0.3s ease;
  }

  .subject-action button:hover{transform:translateY(-4px);box-shadow:0 16px 38px rgba(2,6,23,0.22)}
  .subject-action button:active{transform:translateY(-1px)}

  .math{background:linear-gradient(90deg,#6fcf97,#2db36b);color:#062217}
  .sci{background:linear-gradient(90deg,#f7a8e8,#f76fb3);color:#350b2a}
  .tech{background:linear-gradient(90deg,#7ec8f2,#3aa0e6);color:#061a26}

  .controls{display:flex;gap:16px;margin-top:8px}
  .controls button{flex:1;padding:16px;border-radius:14px;border:0;font-weight:900;cursor:pointer;transition:all 0.3s ease;animation:fadeInUp 0.9s ease}

  @keyframes fadeInUp{
    from{opacity:0;transform:translateY(16px)}
    to{opacity:1;transform:translateY(0)}
  }

  .ach{background:#f0f0ff;color:#444}
  .logout{background:var(--accent);color:#111}

  .controls button:hover{transform:translateY(-4px);box-shadow:0 14px 32px rgba(0,0,0,0.18)}
  .controls button:active{transform:translateY(-2px)}

  /* Chatbot floating ‚Äî TRULY FIXED POSITION, BOTTOM RIGHT */
  .chatbot-wrapper{
    position:fixed;right:28px;bottom:28px;z-index:9999;
  }

  .chatbot{
    margin-left:25px;
    background:linear-gradient(90deg,var(--primary),var(--primary-2));color:#fff;padding:14px 18px;border-radius:40px;display:flex;align-items:center;gap:12px;font-weight:900;box-shadow:0 20px 48px rgba(0,0,0,0.38);cursor:pointer;
    transition:all 0.3s ease;animation:float 3s ease-in-out infinite;
  }

  @keyframes float{
    0%,100%{transform:translateY(0)}
    50%{transform:translateY(-8px)}
  }

  .chatbot:hover{transform:translateY(-8px) scale(1.06);box-shadow:0 24px 56px rgba(0,0,0,0.42)}
  .chatbot img{width:38px;height:38px;border-radius:50%;object-fit:cover}

  /* Responsive */
  @media (max-width:1200px){
    .wrap{grid-template-columns:420px 1fr;max-width:1100px;gap:28px}
    .subject-action{width:240px}
  }

  @media (max-width:920px){
    .wrap{grid-template-columns:360px 1fr;max-width:900px;padding:20px;gap:20px}
    .panel{padding:22px}
    .avatar{width:100px;height:100px}
    .avatar svg{width:58px;height:58px}
    .subject{padding:20px;gap:16px;min-height:110px}
    .subject-action{width:200px}
    .chatbot-wrapper{right:20px;bottom:20px}
    .chatbot{padding:12px 14px;font-size:0.95rem}
  }

  @media (max-width:720px){
    .wrap{grid-template-columns:1fr;max-width:720px;padding:16px}
    .subject{flex-direction:column;align-items:flex-start;min-height:unset}
    .subject-action{width:100%}
    .avatar{width:90px;height:90px}
    .chatbot-wrapper{right:16px;bottom:16px}
  }
</style>
</head>
<body>
  <div class="wrap" role="main">

  <aside class="panel" aria-label="Profile panel">
    <div class="profile" id="profileHeader" title="Open profile">

      <div class="avatar" id="avatar" role="img" aria-label="User avatar">
        <svg viewBox="0 0 24 24" fill="#fff" xmlns="http://www.w3.org/2000/svg">
          <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-3.33 0-6 1.67-6 4v1h12v-1c0-2.33-2.67-4-6-4z"/>
        </svg>
      </div>

      <div class="welcome">
        <h3 data-i18n="welcome_back">Welcome Back</h3>
        <p id="user-name" data-i18n="user_default">User</p>
      </div>

    </div>

    <div class="stats" aria-hidden="false">
      <div class="stat-box" id="user-level" data-i18n="stat_level">Level 0</div>
      <div class="stat-box" id="user-points" data-i18n="stat_points">0 points</div>
      <div class="stat-box" id="user-goal" data-i18n="stat_daily_goal">Daily goal</div>
      <div class="stat-box" id="user-streak" data-i18n="stat_streak">0 days</div>
    </div>
  </aside>

  <section class="main" aria-label="Main content">
    <div class="header">
      <h2 data-i18n="learning_subjects">üìö Learning Subjects</h2>
      <div class="muted" data-i18n="pick_subject">Pick a subject to continue</div>
    </div>

    <div class="subjects" role="list">

      <div class="subject" role="listitem">
        <div class="subject-info">
          <h4 data-i18n="math_title">üî¢ Mathematics ‚Äî Quick Practice</h4>
          <small data-i18n="math_desc">Numbers, Algebra & Geometry ¬∑ Recommended</small>
        </div>
        <div class="subject-action">
          <button class="math" id="mathBtn" data-i18n="continue_learning">Continue learning ‚Üí</button>
        </div>
      </div>

      <div class="subject" role="listitem">
        <div class="subject-info">
          <h4 data-i18n="science_title">üß™ Science ‚Äî Experiments</h4>
          <small data-i18n="science_desc">Physics, Chemistry & Biology ¬∑ 8 lessons</small>
        </div>
        <div class="subject-action">
          <button class="sci" id="scienceBtn" data-i18n="continue_learning">Continue learning ‚Üí</button>
        </div>
      </div>

      <div class="subject" role="listitem">
        <div class="subject-info">
          <h4 data-i18n="tech_title">üíª Technology ‚Äî Coding & Logic</h4>
          <small data-i18n="tech_desc">Interactive coding tasks</small>
        </div>
        <div class="subject-action">
          <button class="tech" id="techBtn" data-i18n="continue_learning">Continue learning ‚Üí</button>
        </div>
      </div>

    </div>

    <div class="controls" role="group" aria-label="Footer actions">
      <button class="ach" id="achievementsBtn" data-i18n="btn_achievements">üèÜ Achievements</button>
      <button class="logout" id="logoutBtn" data-i18n="btn_logout">Logout</button>
    </div>
  </section>
</div>

<div class="chatbot-wrapper">
  <div class="chatbot" id="chatbotBtn" title="Open AI Chatbot">
    <img src="data:image/svg+xml;utf8,
    <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='white'>
      <path d='M12 3C7 3 3 6.69 3 11c0 2.7 1.56 5.11 4 6.67V21l3.07-1.81C11.64 19.07 11.82 19 12 19c5 0 9-3.69 9-8s-4-8-9-8z'/>
    </svg>" alt="Chatbot">
    <span data-i18n="chat_with_ai">Chat with AI</span>
  </div>
</div>


<script>

// -------------------- LOAD PROFILE DATA --------------------
document.addEventListener("DOMContentLoaded", () => {

  // Load Name
  document.getElementById("user-name").textContent =
    sessionStorage.getItem("profileName") || "User";

  // Load Avatar Image
  const savedPhoto = sessionStorage.getItem("profilePhoto");
  if (savedPhoto) {
    document.getElementById("avatar").innerHTML = `
      <img src="${savedPhoto}"
           style="width:100%;height:100%;border-radius:18px;object-fit:cover;">
    `;
  }

  // Load Class
  document.getElementById("user-level").textContent =
    sessionStorage.getItem("profileClass") || "Class";

  // Load School
  document.getElementById("user-points").textContent =
    sessionStorage.getItem("profileSchool") || "";
});



// -------------------- UNIVERSAL BUTTON FUNCTION --------------------
function navBtn(id, page) {
  const btn = document.getElementById(id);
  if (btn) {
    btn.addEventListener("click", () => {
      window.location.href = page;
    });
  }
}



// -------------------- SUBJECT BUTTONS --------------------
navBtn('mathBtn', 'matlevel.html');
navBtn('scienceBtn', 'scilevel.html');
navBtn('techBtn', 'techlevel.html');



// -------------------- ACHIEVEMENTS BUTTON --------------------
navBtn('achievementsBtn', 'achievements.html');



// -------------------- PROFILE OPEN --------------------
document.getElementById('profileHeader').addEventListener('click', () => {
  window.location.href = 'userpro.html';
});

document.getElementById('avatar').addEventListener('click', () => {
  window.location.href = 'profile.html';
});



// -------------------- LOGOUT BUTTON --------------------
document.getElementById('logoutBtn').addEventListener('click', () => {
  if (confirm('Are you sure you want to logout?')) {
    sessionStorage.clear();
    window.location.href = 'stutea.html';
  }
});



// -------------------- CHATBOT BUTTON --------------------
document.getElementById('chatbotBtn').addEventListener('click', () => {
  window.location.href = 'chatbot.html';
});


</script>
<script src="lang.js"></script>

</body>
</html>