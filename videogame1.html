<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Video Quiz Game</title>

<style>
    body {
        margin: 0;
        padding: 0;
        background: #000;
        height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
        overflow: hidden;
    }

    .game-container {
        position: relative;
        width: 100%;
        height: 100vh;
    }

    video {
        width: 100%;
        height: 100%;
        object-fit: cover;
        transition: 0.6s ease;
    }

    .video-small {
        width: 350px !important;
        height: 350px !important;
        position: absolute;
        top: 40%;
        left: 50%;
        transform: translate(-50%, -50%);
        border-radius: 15px;
        object-fit: cover;
        box-shadow: 0 0 20px rgba(255,255,255,0.4);
    }

    #questionBox {
        display: none;
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: 90%;
        max-width: 400px;
        background: rgba(235, 199, 199, 0.95);
        padding: 20px;
        border-radius: 15px;
        text-align: center;
    }

    .option {
        display: block;
        width: 90%;
        padding: 12px;
        margin: 10px auto;
        background: #4480e7;
        color: white;
        font-size: 18px;
        border: none;
        border-radius: 10px;
        cursor: pointer;
    }

    .nav-buttons {
        display: flex;
        justify-content: space-between;
        margin-top: 15px;
    }
    
    .nav-btn {
        padding: 10px 15px;
        background: #222;
        color: white;
        border: none;
        border-radius: 8px;
        font-size: 16px;
        cursor: pointer;
        width: 45%;
    }
</style>

</head>
<body>

<div class="game-container">

    <video id="gameVideo" autoplay muted>
        <source src="videogame.mp4" type="video/mp4">
    </video>

    <div id="questionBox">
        <h2 id="questionText"></h2>

        <button class="option" onclick="checkAnswer('A')">A</button>
        <button class="option" onclick="checkAnswer('B')">B</button>
        <button class="option" onclick="checkAnswer('C')">C</button>
        <button class="option" onclick="checkAnswer('D')">D</button>

        <p id="result"></p>

        <div class="nav-buttons">
            <button class="nav-btn" id="backBtn">⬅ Back</button>
            <button class="nav-btn" id="nextBtn">Next ➡</button>
        </div>
    </div>

</div>

<script>

const video = document.getElementById("gameVideo");
const questionBox = document.getElementById("questionBox");
const resultText = document.getElementById("result");

/* QUESTION BANK */
let questions = [
    {
        q: "The DeLorean time machine must reach 88 mph to time travel. What is this speed in km/h?",
        opts: { A: "100 km/h", B: "120 km/h", C: "142 km/h", D: "150 km/h" },
        answer: "C",
        hint: "Use mph × 1.609"
    },
    {
        q: "Which planet is known as the Red Planet?",
        opts: { A: "Earth", B: "Mars", C: "Jupiter", D: "Venus" },
        answer: "B",
        hint: "It looks red due to iron oxide dust."
    }
];

let current = 0;

/* LOAD QUESTION */
function loadQuestion() {
    let q = questions[current];

    document.getElementById("questionText").innerText = q.q;

    let opt = document.getElementsByClassName("option");
    opt[0].innerText = q.opts.A;
    opt[1].innerText = q.opts.B;
    opt[2].innerText = q.opts.C;
    opt[3].innerText = q.opts.D;

    resultText.innerText = "";
}

/* SHOW QUESTION */
function showQuestion() {
    video.pause();
    video.classList.add("video-small");
    loadQuestion();
    questionBox.style.display = "block";
}

/* FIRST QUESTION AFTER 8 SECONDS */
setTimeout(showQuestion, 8000);

/* CHECK ANSWER */
function checkAnswer(opt) {
    if (opt === questions[current].answer) {
        resultText.style.color = "green";
        resultText.innerText = "Correct!";
    } else {
        resultText.style.color = "red";
        resultText.innerText = "Wrong! Hint: " + questions[current].hint;
    }
}

/* PLAY VIDEO AGAIN BEFORE NEXT QUESTION */
function playVideoAgain() {
    questionBox.style.display = "none";
    video.classList.remove("video-small");
    video.play();

    setTimeout(() => {
        showQuestion();
    }, 10000); // Show next question after 10 seconds
}

/* NEXT BUTTON */
document.getElementById("nextBtn").addEventListener("click", () => {
    if (current === 0) {
        current = 1;
        playVideoAgain();   // Restart video before question 2
    } 
    else {
        window.location.href = "sciencegame.html";  // After Q2 → go next page
    }
});

/* BACK BUTTON */
document.getElementById("backBtn").addEventListener("click", () => {
    if (current === 1) {
        current = 0;
        playVideoAgain();   // Restart video before going back to question 1
    } else {
        window.location.href = "game2.html";
    }
});

</script>

</body>
</html>
